# Day - 11 협업 일지

일자: 2025-05-29 / 정유빈

---

### 팀원들과 한 작업

- 발표 리허설 및 발표 자료 재 점검

# \* 내가 한 일

- 발표 대본 및 파트 재 점검

---

# \* 사용했던 코딩

(성동구 격자 중심 좌표 기준 인접 지하철역 거리계산)

```python
import pandas as pd
import numpy as np
from math import radians, sin, cos, sqrt, atan2

# Haversine 거리 계산 함수 (단위: 미터)
def haversine(lon1, lat1, lon2, lat2):
    R = 6371000  # 지구 반지름 (m)
    phi1, phi2 = radians(lat1), radians(lat2)
    dphi = radians(lat2 - lat1)
    dlambda = radians(lon2 - lon1)
    
    a = sin(dphi / 2)**2 + cos(phi1) * cos(phi2) * sin(dlambda / 2)**2
    c = 2 * atan2(sqrt(a), sqrt(1 - a))
    return R * c

# CSV 파일 로드 (격자 중심 좌표 데이터)
df = pd.read_csv("C:/Users/nuwba/Desktop/과제/프로젝트미션/초급 프로젝트/데이터 수집/07_동작구_생산가능인구수격자(100m)/성동구_생활인구_격자_좌표.csv", encoding="utf-8-sig")

# 지하철역 정보
S_sub_station_data = [
    ["상왕십리", 127.028872, 37.564504],
    ["왕십리", 127.035505, 37.561159],
    ["한양대", 127.043504, 37.55658],
    ["뚝섬", 127.047413, 37.54718],
    ["성수", 127.055983, 37.544628],
    ["신답", 127.056348, 37.56147],
    ["용답", 127.050855, 37.562181],
    ["금호", 127.015785, 37.548269],
    ["옥수", 127.017303, 37.541653],
    ["신금호", 127.020403, 37.554504],
    ["행당", 127.029482, 37.557297],
    ["왕십리", 127.037264, 37.56197],
    ["마장", 127.042921, 37.566066],
    ["답십리", 127.05266, 37.566833],
    ["서울숲역", 127.044689, 37.543685]
]


S_sub_station = pd.DataFrame(S_sub_station_data, columns=["역명", "경도", "위도"])

# 가장 가까운 지하철역 거리 및 이름 계산
nearest_distances = []
nearest_stations = []

for idx, row in df.iterrows():
    min_distance = float("inf")
    nearest_station = ""
    for _, station in S_sub_station.iterrows():
        dist = haversine(row["경도"], row["위도"], station["경도"], station["위도"])
        if dist < min_distance:
            min_distance = dist
            nearest_station = station["역명"]
    nearest_distances.append(round(min_distance, 2))  # 소수점 2자리까지
    nearest_stations.append(nearest_station)

# 결과 컬럼 추가
df["가까운 지하철역"] = nearest_stations
df["지하철역까지거리(m)"] = nearest_distances

# 저장
df.to_csv("성동구_생활인구_격자_지하철거리_결과.csv", index=False, encoding='utf-8-sig')
```

---

# \*문제점

- 발표 준비를 했지만 말이 매끄럽게 나오지 않음  
  연습을 계속 하고 대본을 조금 수정하여, 최대한 실수를 줄일 수 있도록 조정함

# \* 회고

- 발표 대본을 더 잘 다듬었다면, 발표를 조금 더 깔끔하게 할 수 있었을 것 같다
